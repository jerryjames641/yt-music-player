<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>YouTube Audio Player</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body {
      font-family: "Segoe UI", Arial, sans-serif;
      background: linear-gradient(145deg, #0f0f0f, #1e1e1e);
      color: #f1f1f1;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 15px;
    }
    .player {
      background: #2a2a2a;
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.4);
      width: 100%;
      max-width: 400px;
      text-align: center;
    }
    .song-title {
      font-size: 1.1rem;
      font-weight: bold;
      margin-bottom: 18px;
      line-height: 1.4;
    }
    .controls {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 15px 0;
    }
    button {
      background: #1877F2;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      cursor: pointer;
      color: white;
      font-size: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: background 0.2s ease, transform 0.1s ease;
    }
    button:hover {
      background: #145dbf;
      transform: scale(1.05);
    }
    input[type="range"] {
      -webkit-appearance: none;
      width: 100%;
      height: 5px;
      background: #444;
      border-radius: 3px;
      outline: none;
      cursor: pointer;
    }
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 14px;
      height: 14px;
      background: #1877F2;
      border-radius: 50%;
      cursor: pointer;
    }
    #time {
      margin-top: 10px;
      font-size: 0.9rem;
      color: #ccc;
    }
    #ytplayer {
      width: 0;
      height: 0;
      overflow: hidden;
      position: absolute;
      top: -9999px;
      left: -9999px;
    }
  </style>
</head>
<body>
  <div class="player">
    <div class="song-title">The Life Of Prince - Maayunnallo</div>
    <div class="controls">
      <button onclick="playVideo()"><i class="fa-solid fa-play"></i></button>
      <button onclick="pauseVideo()"><i class="fa-solid fa-pause"></i></button>
      <button onclick="stopVideo()"><i class="fa-solid fa-stop"></i></button>
    </div>
    
    <!-- Seekbar -->
    <input type="range" id="seekbar" min="0" max="100" value="0" step="0.1" />
    <div id="time">0:00 / 0:00</div>
  </div>
  
  <div id="ytplayer"></div>
  
  <script>
    let player, duration = 0, seeking = false;

    function onYouTubeIframeAPIReady() {
      player = new YT.Player('ytplayer', {
        videoId: 'f4LFnh8alyk',
        playerVars: { autoplay: 0, controls: 0, modestbranding: 1 },
        events: { 'onReady': onPlayerReady }
      });
    }

    function onPlayerReady() {
      duration = player.getDuration();
      document.getElementById("seekbar").max = duration;
      updateSeekbar();
    }

    function playVideo() {
      player && player.playVideo();
    }

    function pauseVideo() {
      player && player.pauseVideo();
    }

    function stopVideo() {
      if (player) {
        player.pauseVideo();
        player.seekTo(0, true);
      }
    }

    function updateSeekbar() {
      if (player && player.getCurrentTime) {
        if (!seeking) {
          let current = player.getCurrentTime();
          document.getElementById("seekbar").value = current;
          document.getElementById("time").innerText =
            formatTime(current) + " / " + formatTime(duration);
        }
      }
      requestAnimationFrame(updateSeekbar);
    }

    document.getElementById("seekbar").addEventListener("input", function () {
      seeking = true;
    });

    document.getElementById("seekbar").addEventListener("change", function () {
      player.seekTo(this.value, true);
      seeking = false;
    });

    function formatTime(sec) {
      sec = Math.floor(sec);
      let m = Math.floor(sec / 60);
      let s = sec % 60;
      return m + ":" + (s < 10 ? "0" + s : s);
    }

    const tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    document.body.appendChild(tag);
  </script>
</body>
</html>
